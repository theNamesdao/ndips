NDIP Number 0002

Title Namesdao .xch Wallet Name Resolution DRAFT

# Namesdao .xch Wallet Name Resolution v0.2 DRAFT


## Requirements

1. Resolution must be able to exclusively use data from the decentralized Chia blockchain to resolve a name into a Chia wallet address.
2. Name resolution must reflect transfers of ownership of the name/NFT


## Specification

Extension of Chia NFT1 Standard

Names below are referenced by their root, without the .xch extension and in lowercase, e.g. _NamesdaoTime.xch will be referred to
as _namesdaotime.

A Namesdao .xch name record on the Chia blockchain is a NFT1 coin from Namesdao's DID. A record consists of three values: 
1. The name, which is lowercase
2. The expiry block
3. The Chia blockchain address

A. To extract the Name and Expiry Block for a Namesdao-DID NFT:
1. Take the second-to-last URI for the metadata file.
2. Trim off the .json ending
3. Separate the text following the last "/" and split by the last "-" into two fields.
4. The expiry block is the second field.
5. URL-decode the first field to obtain the name.

B. The Wallet address for the name is the owner of the NFT, the address which is able to transfer the NFT to another address.

The name is valid up to and including the Chia blockchain block number of the expiry block value.

Secondary caches can provide for speedy lookups and applications such as limited wallets. Namesdao offers one hosted at 
https://namesdaolookup.xchstorage.com/name1.json and a slower one at https://storage1.xchstorage.cyou/namesdao/name1.json, 
where name1 is the name being looked up.


Block explorers, Wallets and Infrastructure Providers should ideally index off of the Chia blockchain.

Name metadata includes a Display Name attribute, which is case-sensitive for cosmetic display purposes, but the name itself is lowercase.

Namesdao .xch Names must not be 62 characters long, to avoid risk of confusion with xch addresses.

Max length: 100 characters initially

As of this writing, names beginning with 1 or 3 underscores ("_") and 7 or more alphanumeric characters may be registered. While the medium-term & long-term goal is for name registration to be available on a decentralized basis, in this initial release, name registration 
is centralized to a signing key that issues the DID-backed NFT's of Namesdao.
